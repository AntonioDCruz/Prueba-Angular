<p-messages [value]="msgs"></p-messages>
<h1 class="text-center mt-3">
  {{ portfolioLine !== undefined ? 'Edit' : 'New' }} Portfolio Line
</h1>

<form [formGroup]="portfolioLineFormulario" (ngSubmit)="guardar()">
  <div class="p-field m-3">
    <label for="portfolioLineCoin">Select coin</label>
    <select
      name="portfolioLineCoin"
      id="portfolioLineCoin"
      formControlName="coinId"
    >
      <option value="">-- Select coin --</option>
      <option *ngFor="let coin of coins" [value]="coin.id">
        {{ coin.name }}
      </option>
    </select>
    <small id="portfolioLineCoin-help" *ngIf="error('coinId')">{{
      coinMsg
    }}</small>
  </div>

  <div class="p-field m-3">
    <label for="portfolioLineCoin">Amount</label>
    <input type="number" step="0.05" formControlName="amount" />
    <small id="amoun-help" *ngIf="error('amount')">{{ coinMsg }}</small>
  </div>

  <div class="row justify-content-center">
    <div class="col-auto">
      <p-button
        class="float-end"
        label="Save"
        icon="pi pi-check"
        iconPos="right"
        type="submit"
      ></p-button>
    </div>
  </div>
</form>

<div class="row">
  <div class="col">
    <span>Valid</span>
    <pre>{{ portfolioLineFormulario.valid }}</pre>

    <span>Pristine</span>
    <pre>{{ portfolioLineFormulario.pristine }}</pre>

    <span>Touched</span>
    <pre>{{ portfolioLineFormulario.touched }}</pre>

    <span>Value</span>
    <pre>{{ portfolioLineFormulario.value | json }}</pre>

    <span>Acronym</span>
    <pre
      >{{ portfolioLineFormulario.controls?.['acronym']?.errors | json }}</pre
    >

    <span>Nombre</span>
    <pre>{{ portfolioLineFormulario.controls?.['name']?.errors | json }}</pre>
  </div>
</div>
